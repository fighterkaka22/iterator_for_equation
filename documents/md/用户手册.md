<!--
 * @Author: Sun Yuxin
 * @Date: 2020-11-04 02:53:38
 * @LastEditTime: 2020-11-13 09:34:01
 * @LastEditors: Please set LastEditors
 * @Description: In User Settings Edit
 * @FilePath: /numerical_analysis_iterator/用户手册.md
-->
# 《迭代法解方程》用户手册
- [《迭代法解方程》用户手册](#迭代法解方程用户手册)
    - [引言](#引言)
        - [项目背景](#项目背景)
        - [定义](#定义)
        - [相关链接](#相关链接)
    - [软件概述](#软件概述)
        - [目标](#目标)
        - [功能](#功能)
        - [性能](#性能)
    - [运行环境](#运行环境)
    - [使用说明](#使用说明)
        - [安装和初始化](#安装和初始化)
        - [输入](#输入)
            - [按钮点击顺序](#按钮点击顺序)
            - [文本框输入内容及格式](#文本框输入内容及格式)
        - [输出](#输出)
            - [窗口输出](#窗口输出)
                - [文字输出](#文字输出)
                - [图像输出](#图像输出)
            - [命令行终端输出](#命令行终端输出)
        - [出错和恢复](#出错和恢复)
## 引言
本项目根据《数值分析》课程相关知识，通过运用C++，Qt等工具，演示用五种迭代方法解方程及图示过程。
### 项目背景
本项目制作一个小程序，用户可以输入其需要的目标函数（仅支持含x的加、减、乘、除、幂运算，e^x运算）、希望进行迭代的等价形式、进行迭代的初值x0及弦截法需要的x1，选择五中迭代法其一，得到函数图像，并通过单击按钮控制迭代过程，画出迭代过程点及输出中间值。
### 定义
请参考《数值分析》（第三版）.北京理工大学出版社
### 相关链接
* [源代码仓库]https://github.com/fighterkaka22/iterator_for_equation
* [用户手册]https://github.com/fighterkaka22/iterator_for_equation/blob/dev/documents/md/%E7%94%A8%E6%88%B7%E6%89%8B%E5%86%8C.md
* [代码规范]https://github.com/fighterkaka22/iterator_for_equation/blob/dev/documents/md/%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83.md
* [博客地址，持续更新本项目相关的帖子]https://www.cnblogs.com/fighterkaka22/category/1881452.html
## 软件概述
### 目标
演示《数值分析》第二章五种迭代法，实现由用户输入表达式、选择迭代方法和精度，进行逐步迭代并看到图像。
### 功能
* 可通过前端可视化界面和用户交互
* 绘制出函数图像
* 绘制出每一步迭代点
* 在窗口中显示每一步结果和详细信息
* 用户可通过按钮控制开始迭代结束迭代
### 性能
* 支持跨Windows、Linux平台运行
* 可靠性高，由于用户输入等问题产生错误，可以及时作出异常处理。
* 易操作性，简单易懂，容易上手
* 模块化设计，易于以后的维护和扩展
## 运行环境
Windows/Linux
## 使用说明
### 安装和初始化
* 从[源代码仓库]中clone仓库  
* Windows用户可执行文件位置：./build/windows/Debug/Iterator.exe
* Linux用户程序位置：./build/linux/Iterator 
用命令行或shell打开皆可。
### 输入
注意这里的输入并不是命令行中的输入，而是在窗口中提示输入的四个文本框中输入。
#### 按钮单击顺序
程序流程图：  
![流程图](https://raw.githubusercontent.com/fighterkaka22/iterator_for_equation/dev/pictures/png/%E6%B5%81%E7%A8%8B%E5%9B%BE.png)  
由于窗口以信号和槽进行实时连接刷新，所以为了避免不必要的错误，请严格按照流程图的操作顺序执行。即：
```
输入表达式->单击五个迭代方法按钮之一->（选择倍率/精度，初始值设置为0.1倍，小数点后四位）->start->next->……->exit->输入表达式
```
#### 文本框输入内容及格式
* 第一个文本框：输入f(x)：用户需要求解的f(x)=0方程。
* 第二个文本框：输入g(x)：用户需要进行迭代的等价形式。  
只有埃特肯法需要等价形式，故使用其他方法计算时不必输入第二个文本框。  
前两个文本框中接受的都是表达式字符串，按照设计情况，表达式中不允许输入小数，所有小数全部以分数格式输入，如0.2必须输入为1/5。
* 第三个文本框：输入x0：进行迭代的初值x0。
* 第四个文本框：输入x1：进行单点弦截法和双点弦截法需要的第二个初始值x1。  
只有单点弦截法、双点弦截法需要x1，故使用其他方法计算时不必输入第四个文本框。 
后两个文本框中接受的都是浮点型数据，所以全部输入整数或小数，不允许输入分数及其他格式。 
输入示例1：
```
第一个文本框：x^5-x-1/5
第二个文本框：x^5-1/5
第三个文本框：1
第四个文本框：1.5
```
输入示例2：
```
第一个文本框：x^3-x-1
第二个文本框：x^3-1
第三个文本框：0.6
第四个文本框：1.5
```
### 输出
#### 窗口输出
##### 文字输出
窗口输出栏位于界面的右上角，即三个文本框和特殊提示。  
第一栏文本框显示“第i步的迭代结果xi=……”，第二栏文本显示牛顿下山法的下山因子。仅有牛顿下山法会在该框输出。  
特殊提示包括迭代点溢出界面提示和迭代成功提示，均以红字显示在右上角框中。
##### 图像输出
输入f(x)后，单击start，正中央方框中会绘制出对应倍率的函数图像及初值x0对应的x=x0直线（注意：由于QtWidget的y轴和我们常用的y轴方向相反，所以绘制出的图像是垂直翻转的），且在exit前函数图像均可以保留。  
每次单击next键，方框中会绘制出该步的迭代结果x=xi直线。为了方便的观察迭代点的先后顺序，迭代点会由红色逐渐加深，大约8次以后变为黑色。
#### 命令行终端输出
除了部分报错输出外，命令行终端还会针对五种迭代法输出不同的细节内容，特殊点包括：  
埃特肯法：输出每次的x,y,z。  
牛顿下山法：输出每次的lambda。
### 出错和恢复
目前可以在命令行读取到表达式输入错误提示。  
本程序的异常处理程序待更新，目前暂时需要用户自行判断错误。如果有需求欢迎反馈给作者……